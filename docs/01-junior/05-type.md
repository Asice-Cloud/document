#### <span id="type">入门篇其 5 - 进入代码 (上): 基本类型和逻辑</span>

> [!NOTE]
>
> 本章作者：syl
>
> 难度：⭐⭐
>
> 涉及语言：C/C++



> 注：考虑到大部分人会学大学计算机，这门课有的使用的是 C 语言，所以我们也是用 C 语言举例。可以先行配置 C 语言环境，Windows 用户需要提前下载 MSVC（[下载并配置到 VSCode 里的流程点这里](https://code.visualstudio.com/docs/cpp/config-msvc)）或者 MinGW（[下载并配置到 VSCode 里的流程点这里](https://code.visualstudio.com/docs/cpp/config-mingw)）。



##### 走入代码的世界

正如同现实世界中将物质分成了各种类型一样，计算机世界里也将数据存储为了各种类型。相对的，也存在这最小的存储单元：位 (bit，或者缩写为 b)，也就是一个 0 或者 1。我们通常的信息计量单位是字节 (byte，缩写为 B)，**一个字节是 8 个位**。同样的，数据的不同类型也有着不同的大小 (size)。下图列举了一些常见的类型和其大小。**以 C 语言中的为例：**

| 类型         | 占用存储空间               | 表示范围                         |
| ------------ | -------------------------- | -------------------------------- |
| bool         | 1 字节                      | true 或者 false                    |
| 单精度 float  | 4 字节                      | -3.403e38 ~ 3.403e38             |
| 双精度 double | 8 字节                      | -1.798e308 ~ 1.798e308             |
| int          | 32 位系统 4 字节 64 位系统 8 字节 | -2^31 ~ 2^31-1 或 -2^63 ~ 2^63-1 |
| uint         | 32 位系统 4 字节 64 位系统 8 字节 | 0 ~ 2^32-1 或 0 ~ 2^64-1           |
| char         | 1 字节                      | 存储 ASCII 字符                    |

<img src="../../assets/question.png" width=25px> 另外还有类似 int8，int64，string 等类型，大家可以自行搜索做了解。

<img src="../../assets/awesomeface.png" width=25px> **这些数据在计算机底层都是存储在某个地址中**，可能是 0x00 这个位置上存了一个 int 值 1，地址就相当于是变量家的门牌号，变量值就像家里的东西，知道了门牌号自然就知道了如果找到这个房子，进而知道了家里的东西是什么。



当我们知道了如何表示和存储数据后，就可以来尝试来一段代码了：这里就用 C 语言来演示
**声明/定义变量的方式：[变量类型] 变量名 = 某个值或者表达式**

```c
//C 
#include<stdio.h>
int main(void){
    int integer = 1;
    bool condition = false;
    char letter = 'a';
    
    printf("my first variable: %d",integer); // 输出 my first variable: 1
    // ... 其他也可以自行尝试查看如何输出
}
   
```

<img src="../../assets/question.png" width=25px> 我们也可能会遇到定义的变量类型和我们需要的类型不一致的情况，这时我们需要转换这个变量。一般情况下有隐式转换和显示转换两种方式，读者可以自行查阅了解相关内容，如何转换以及什么情形下可以转换。

<img src="../../assets/warning.png" width=25px> **注意：有些符号我们称之为“关键字”，这是语言本身提供的，用来编写代码的元素。比如上面的 int, bool 等。我们给变量起名时不可以和关键字重名。大家可以自行查阅常用关键字。**

有没有想过把一堆同样类型的变量放到一起？就像我们学校每个专业都是同学的集合一样。我们可以使用一个叫做 **数组** 的数据结构来存储。顺便一提，数组本身也是一个变量，我们会在指针章节细说。

```c
//C
//声明和使用数组：以 c 语言为例
// 变量类型 数组名[大小] = {好多变量 用“，”隔开}
//举一个整型数组的例子：
int arr1[3]={1,2,3}; //这里的 3 是数组大小，如果后面括号里写出了所有要存储的变量的话可以省略大小，编译器会自动推断出来。

//访问数组：通过 数组名[索引]  找到对应位置的变量值 
int a1 = arr1[0]; //注意不同语言索引计数可能不一样，c 语言是从 0 开始的
arr[2] = 10; //给对应位置赋值/修改值
int a3=arr1[3]; //出界啦！
```

<img src="../../assets/question.png" width=25> 课外阅读：<a href="https://mp.weixin.qq.com/s?__biz=MzA5NDIzNzY1OQ==&mid=2735628657&idx=1&sn=379a9423f2a449ab5b94d795cedaff93&chksm=b7fab396327572047b4749532f4e901311efe16820cf52440aea3f717da440bc93ef75f7e27f&mpshare=1&scene=23&srcid=0909tArK7FVSGAARjnU7qOHP&sharer_shareinfo=e08c8cede59f8c572ad27f13b09e7726&sharer_shareinfo_first=e08c8cede59f8c572ad27f13b09e7726#rd">编程语言是怎么被实现出来的？</a> 这篇文章用生动的语言简述了编程的底层逻辑，有精力的话推荐阅读下。

##### 表达式

将变量通过某些运算符号连接起来，就是表达式了。比如在 C 语言中，

```c
//C
int v1 = 100;
float v2 = 200;
// 表达式举例
float expression_1 = v1+v2;
float expression_2 = v2-v1;
bool equal = v1==v2;

//表达式也可以连接起来：使用 () 来改变运算顺序
float expression_3 = 3*(expression_1+expression_2)
// 更多可以自行探索
```



##### 基本运算符

一般来说基本运算符是：+，-，*，/ ：这是表示四则运算的符号。使用 % 取余。不同语言可能有差异。



##### 逻辑运算和逻辑运算符

逻辑运算会返回真，假两个值其中之一，判断规则是第二列所示。这里还是使用 C 语言的运算符演示：
| 符号 | 含义                         |
| ---- | ---------------------------- |
| ==   | 左右两个元素是否相等         |
| !=   | 左右两个是否不相等           |
| >    | 左边是否大于右边             |
| <    | 左边是否小于右边             |
| >=   | 左边是否不小于右边           |
| <=   | 左边是否不大于右边           |
| &&   | 左边和右边同时成立           |
| \|\| | 左边或者右边成立             |
| !    | 逻辑非，将真变为假，假变为真 |

> <img src="../../assets/awesomeface.png" width=25px> [注：不同语言中可能有更多的逻辑运算符，可自行查找]



##### 简单语句

一般情况下，编程语言中都是在 if 关键字语句中使用逻辑运算，也称 "控制语句"，例如在 C 语言中：

```c
// C
// 格式： 
// if (condition) {
//     code here will be executed if condition is true
// } else {
//     code here will be executed if condition is false
// }
int a = 10;
int b = 20;
if (a >= 0 && b <= 30) { //判断如果 a 不小于 0，同时 b 不大于 30，如果成立则执行 if 语句内部的代码
    printf("right!");
}
if (a != b){ //判断如果 a 不等于 b，成立则执行内部代码
    //...
} else if (a < b){ // 继续判断，如果 a 小于 b, 执行内部代码
    printf("a is smaller!");
} else { //如果之前的判断都不成立，执行这个内部的代码
    pritnf("b is smaller!");
}
```

另一方面，我们也有所谓的“循环语句”，以 for 关键字为例，

```c
// C
// 全写格式是： for(initial; final; operation)
int i = 0;
for (; i < 10;) {
    printf("%d", i);
    i = i + 1;
}
// 这个等价于
for (int j = 0; j < 10; j++) {
    printf("%d", j);
}
```

<img src="../../assets/bulb.png" width=25px> 可以自行查询 switch, while, goto 等控制、循环语句关键字的作用



##### <img src="../../assets/question.png" width=25px> 位运算和位运算符

(这一部分建议自行了解，下面的表格还是以 C 语言为例)

| 符号 | 描述     | 运算规则                                    |
| :--- | :------- | :------------------------------------------ |
| &    | 与       | 两个位都为 1 时，结果才为 1                    |
| \|   | 或       | 两个位都为 0 时，结果才为 0                    |
| ^    | 异或     | 两个位相同为 0，相异为 1                      |
| ~    | 取反 (非) | 0 变 1，1 变 0                                  |
| <<   | 左移     | 各二进位全部左移若干位，高位丢弃，低位补 0   |
| >>   | 右移     | 各二进位全部右移若干位，高位补 0 或符号位补齐 |

<img src="../../assets/awesomeface.png" width=25px> 位运算我们一般用的不多，不过可能有时候会出现左移和右移的代码，通俗来讲，左移后移就是乘以 2 的某次幂：

``` c
// C
int a = 1;
a << 2; // = a * (2^2)
a >> 1; // = a / (2^1)
```



##### 运算顺序

<img src ="warning.png" width=25px> 在开发过程中往往会有多个运算符出现在一起，和数学上的运算一样，这时候需要规定运算顺序，以及如何改变运算顺序。

这里是一份以 C 语言为例的运算符优先级排序，其他语言可以自行查阅了解。<img src="../../assets/question.png" width=25px> 有些运算符我们现在还没有提到，可以搜索看看都是什么。

| 优先级 | 操作符                        | 描述                    |
| :----- | :---------------------------- | :----------------------|
| 1      | `++` `--`                     | 后缀自增自减运算符      |
|        | `()`                          | 函数调用               |
|        | `[]`                          | 数组下标               |
|        | `.`                           | 类成员变量             |
|        | `−>`                          | 类成员变量（指针访问）  |
|        | `(*type*){*list*}`            | 复合字面量             |
| 2      | `++` `--`                     | 前缀自增自减运算符      |
|        | `+` `−`                       | 一元加减法             |
|        | `!` `~`                       | 逻辑非和位运算非        |
|        | `(*type*)`                    | 显式类型转换           |
|        | `*`                           | 解引用                 |
|        | `&`                           | 取地址                 |
|        | `sizeof`                      | Size-of                |
|        | `_Alignof`                    | 对齐                   |
| 3      | `*` `/` `%`                   | 乘法，除法，取余        |
| 4      | `+` `−`                       | 加法和减法              |
| 5      | `<<` `>>`                     | 左移和右移              |
| 6      | `<` `<=`                      | 小于和不大于            |
|        | `>` `>=`                      | 大于和不小于            |
| 7      | `==` `!=`                     | 等于和不等于            |
| 8      | `&`                           | 位运算与                |
| 9      | `^`                           | 位运算异或              |
| 10     | `\|`                          | 位运算或                |
| 11     | `&&`                          | 逻辑运算与              |
| 12     | `\|\|`                        | 逻辑运算或              |
| 13     | `?:`                          | 三元条件判断符           |
| 14     | `=`                           | 赋值运算                |
|        | `+=` `−=`                     | 加、减到左边            |
|        | `*=` `/=` `%=`                | 乘、除、取余到左边      |
|        | `<<=` `>>=`                   | 左移、右移到左边        |
|        | `&=` `^=` `\|=`               | 位运算到左边            |
| 15     | `,`                           | 逗号                   |
